<CascadingValue Value="this">

    <div dock-left>
        
    </div>

    <div dock-right>
        <TaskInstanceListView />
    </div>

    <div dock-top>
        
    </div>

    <div dock-bottom>

    </div>

    @switch (page)
    {
        case nameof(Page_Checksum):
            <Page_Checksum onNextClick="Checksum_NextClick" />
            break;

        case nameof(Page_MainMenu):
            <Page_MainMenu />
            break;

        case nameof(Page_Project):
            <Page_Project />
            break;
    }

    <Dialog_Config @ref="configDialog" />
    <Dialog_NewProject @ref="newProjectDialog" />
    <Dialog_LoadProject @ref="loadProjectDialog" />
    <Dialog_CustomBuildSettings @ref="customBuildSettingsDialog" />

</CascadingValue>

@code {

    [Parameter] public MainForm mainForm { get; set; }

    public Config config { get; private set; }

    public Dialog_Config configDialog { get; private set; }
    public Dialog_NewProject newProjectDialog { get; private set; }
    public Dialog_LoadProject loadProjectDialog { get; private set; }
    public Dialog_CustomBuildSettings customBuildSettingsDialog { get; private set; }

    string _page = nameof(Page_Checksum);
    public string page
    {
        private get => _page;
        set
        {
            if (_page == value)
                return;

            _page = value;
            this.Render();
        }
    }

    public Project project;

    protected override void OnInitialized()
    {
        config = Config.Load();
    }

    void Checksum_NextClick()
    {
        page = nameof(Page_MainMenu);
    }

}