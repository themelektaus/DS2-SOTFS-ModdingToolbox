<div class="script">
    <ScriptInstanceView scriptInstance="scriptInstance" />
</div>

@code {

    [Parameter] public string name { get; set; }

    readonly Script script = new();

    ScriptInstance scriptInstance;

    public void Compile()
    {
        var path = Path(UserData.scriptsFolder, $"{name}.cs");
        if (!FileExists(path))
            path = Path(Data.scriptsFolder, $"{name}.cs");

        script.Compile(path);
    }

    public void Instantiate()
    {
        scriptInstance = ScriptInstance.Create(script);
        this.Render();
    }

}